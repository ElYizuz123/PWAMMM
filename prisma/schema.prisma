generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model asociada {
  id_asociada Int    @id @default(autoincrement())
  nombre      String @db.VarChar(45)
  historia    String @db.LongText
  foto        String @db.VarChar(45)
}

model evento {
  id_evento Int      @id @default(autoincrement())
  foto      String   @db.VarChar(45)
  fecha_fin DateTime @db.Date
}

model marca {
  id_marca             Int    @id @default(autoincrement())
  nombre               String @unique(map: "nombre_UNIQUE") @db.VarChar(45)
  Asociada_id_asociada Int
  tipo                 Int

  @@index([Asociada_id_asociada], map: "fk_marca_Asociada1_idx")
}

model producto {
  id_producto    Int     @id @default(autoincrement())
  nombre         String  @db.VarChar(45)
  ml             Int
  precio         Decimal @db.Decimal(10, 2)
  descripcion    String  @db.LongText
  foto           String  @db.VarChar(45)
  marca_id_marca Int
  mercadoLibre   String? @db.MediumText
  cantidad       Int?

  @@index([marca_id_marca], map: "fk_producto_marca1_idx")
}

model user {
  user     String @id @db.VarChar(45)
  password String @db.MediumText
}

model venta_individual {
  id_venta_individual  Int     @id @default(autoincrement())
  cantidad_producto    Int
  subtotal             Decimal @db.Decimal(10, 2)
  venta_total_id_venta Int
  producto_id_producto Int

  @@index([producto_id_producto], map: "fk_venta_individual_producto1_idx")
  @@index([venta_total_id_venta], map: "fk_venta_individual_venta_total_idx")
}

model venta_total {
  id_venta          Int      @id
  fecha_venta       DateTime @default(now()) @db.DateTime(0)
  total             Decimal  @db.Decimal(10, 2)
  status            String   @default("Pendiente") @db.VarChar(45)
  envio             Int      @db.TinyInt
  nombre_cliente    String   @db.VarChar(45)
  apellidos_cliente String   @db.VarChar(45)
  empresa           String?  @db.VarChar(45)
  telefono          String   @db.VarChar(10)
  email             String   @db.VarChar(45)
  cp                String   @db.VarChar(5)
  calle             String   @db.VarChar(45)
  num_ext           String   @db.VarChar(10)
  num_int           String?  @db.VarChar(10)
  colonia           String   @db.VarChar(45)
  poblacion         String   @db.VarChar(45)
  region            String   @db.VarChar(45)
}

model galeria_categoria {
  id_categoria Int    @id @default(autoincrement())
  categoria    String @db.VarChar(30)
}

model galeria_foto {
  id_foto         Int    @default(autoincrement())
  foto            String @db.VarChar(45)
  descripcion     String @db.VarChar(45)
  fk_id_categoria Int

  @@id([id_foto, fk_id_categoria])
  @@index([fk_id_categoria], map: "fk_foto_categoria1_idx")
}

model pregunta_frecuente {
  id_pregunta_frencuente Int    @id @default(autoincrement())
  pregunta               String @db.TinyText
  respuesta              String @db.TinyText
}

model producto_informacion {
  id_producto_informacion Int     @id @default(autoincrement())
  tipo_agave              String? @db.VarChar(45)
  tipo_cosecha            String? @db.VarChar(45)
  tipo_elaboracion        String? @db.VarChar(45)
  tipo_horno              String? @db.VarChar(45)
  tipo_molienda           String? @db.VarChar(45)
  tipo_fermentacion       String? @db.VarChar(45)
  tipo_destilador         String? @db.VarChar(45)
  riquezaAlcoholica       String? @db.VarChar(45)
}
